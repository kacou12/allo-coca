import{_ as Y,a as q,F as B,C as z}from"./dashboardTabs.vue_vue_type_script_setup_true_lang-B8YFRKVc.js";import{_ as W}from"./customButton.vue_vue_type_script_setup_true_lang-BH0vS9yW.js";import{_ as g,a as G}from"./SearchBar.vue_vue_type_script_setup_true_lang-Dph5Ee_w.js";import{C as D}from"./commonStatisticCard-VbEP87RL.js";import{u as Q,a as J,b as H,c as K}from"./useTransactionQueries-Cdo-GYzx.js";import{_ as A}from"./Skeleton.vue_vue_type_script_setup_true_lang-RJjQvA3k.js";import{d as X,J as Z,O as v,r as j,w as ee,l as F,m as M,q as i,G as te,p as e,f as o,x as C,i as w,A as ae}from"./index-DkfXgpcC.js";import{T as $,a as m,O as y}from"./constant.enum-DAK-M0ps.js";import{u as L}from"./useAuthStore-C2GFTR6E.js";import{u as le}from"./axios-CQ5ThyI4.js";import{b as u}from"./index-ddJ0Efsx.js";import{u as se}from"./Input.vue_vue_type_script_setup_true_lang-CLXxopyR.js";import{A as oe}from"./arrow-right-DFDzO7s9.js";import"./index-DibH2ssM.js";import"./createLucideIcon-B01bX9rG.js";/* empty css                                                                           *//* empty css                                                                        */import"./commonButton.vue_vue_type_script_setup_true_lang-BT7EL6SJ.js";import"./chevron-right-DbH7sq-P.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BMjVBBvu.js";import"./chevron-down-Ctm0sjbZ.js";import"./arrow-up-right-CGBXniTS.js";import"./commonClipBoard.vue_vue_type_script_setup_true_lang-H92bW-pp.js";import"./fadeInAnimation-BTiIx4IU.js";import"./Http-BUEd-bjA.js";import"./useQuery-Di2ibVa4.js";const ne={class:"px-4 w-full"},ie={class:"mb-6"},re={class:"text-sm text-[#808080]"},ue={class:"flex flex-col md:flex-row my-5 gap-5 justify-between w-full"},de={class:"h-10 w-full"},me={class:"gap-3 w-full md:w-[60%] 2xl:w-[50%] flex justify-start lg:justify-end"},fe={class:"2xl:w-[70%] mx-auto"},pe={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ce={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[213px]"},ge={class:"flex xl:justify-between flex-col xl:flex-row my-4"},ve={class:"xl:flex xl:flex-wrap grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"},we={class:"xl:w-[19%] lg:w-1/3 my-5 xl:my-0"},ye={class:"my-5 space-y-5"},xe={class:"flex justify-end"},He=X({__name:"DashboardView",props:{status:{default:void 0},statusModifiers:{},type:{default:void 0},typeModifiers:{},operator:{default:void 0},operatorModifiers:{},limitProvider:{type:String,default:void 0},limitProviderModifiers:{}},emits:["update:status","update:type","update:operator","update:limitProvider"],setup(f){const l=Q(),{fullName:k,logout:he}=L(),{user:be}=Z(L()),{width:p}=se(),{data:S,isFetching:E}=J(),{isFetched:N,data:x}=H(),{startLoadingSkeleton:h,stopLoadingSkeleton:_e}=le(),[b]=v(f,"status",{set(t){return t=="all"?l.status=void 0:l.status=t,t}}),[_]=v(f,"type",{set(t){return t=="all"?l.type=void 0:l.type=t,t}}),[V]=v(f,"operator",{set(t){return t=="all"?l.operator=void 0:l.operator=t,t}}),[d,Ve]=v(f,"limitProvider",{set(t){return l.limit=parseInt(t),t}}),R=async()=>{l.page=l.page+1,h()},U=async t=>{l.page=t,h()},I=async()=>{l.page=l.page-1,h()},c=j("0");let s=new Date;const r=j({start:new u(s.getFullYear(),s.getMonth()+1,s.getDate()),end:new u(s.getFullYear(),s.getMonth()+1,s.getDate())}),O=()=>{c.value="",r.value.start.toDate("Africa/Abidjan"),r.value.end.toDate("Africa/Abidjan"),l.dates=[r.value.start.toDate("Africa/Abidjan"),r.value.end.toDate("Africa/Abidjan")]};return ee(c,(t,a)=>{t!=""&&(t=="1"?r.value={start:new u(s.getFullYear(),s.getMonth()+1,s.getDate()).subtract({days:parseInt("1")}),end:new u(s.getFullYear(),s.getMonth()+1,s.getDate()).subtract({days:parseInt("1")})}:r.value={start:new u(s.getFullYear(),s.getMonth()+1,s.getDate()).subtract({days:parseInt(t)}),end:new u(s.getFullYear(),s.getMonth()+1,s.getDate())},l.dates=[r.value.start.toDate("Africa/Abidjan"),r.value.end.toDate("Africa/Abidjan")])}),(t,a)=>{var T,P;return M(),F("div",ne,[i("header",ie,[a[8]||(a[8]=i("h1",{class:"text-xl font-bold font-merriweathersans text-black"},"Tableau de bord",-1)),i("p",re,"Bienvenue, "+te(e(k)())+" !",1)]),i("section",ue,[i("div",de,[o(Y,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=n=>c.value=n),class:"w-full"},null,8,["modelValue"])]),i("div",me,[o(q,{"update-handler":O,modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n)},null,8,["modelValue"])])]),i("section",fe,[o(B,null,{default:C(()=>[e(N)?(M(),F("div",pe,[o(D,{amount:e(x).all_txns_amount.toString(),"sub-title":"L'essentiel des volumes de transaction",title:"Volume transactions",id:1},null,8,["amount"]),o(D,{amount:e(x).collected_txns_amount.toString(),"sub-title":"L'essentiel des volumes collectés",title:"Volume collecte",id:2},null,8,["amount"]),o(D,{amount:e(x).transfered_txns_amount.toString(),"sub-title":"L'essentiel des volumes transferés",title:"Volume transferts",id:3},null,8,["amount"])])):(M(),F("div",ce,[o(A,{class:"h-full w-full rounded-lg"}),o(A,{class:"h-full w-full rounded-lg"}),o(A,{class:"h-full w-full rounded-lg"})]))]),_:1})]),i("div",ge,[i("section",ve,[o(g,{modelValue:e(_),"onUpdate:modelValue":a[2]||(a[2]=n=>w(_)?_.value=n:null),"default-width":e(p)>=1366?"w-fit":"w-full",class:"w-full",title:"Filtre par type de transaction",elements:[{name:"Filtre par type  de transaction",value:"all"},{name:"Collecte",value:e($).Payout},{name:"Transfert",value:e($).Payin}]},null,8,["modelValue","default-width","elements"]),o(g,{modelValue:e(b),"onUpdate:modelValue":a[3]||(a[3]=n=>w(b)?b.value=n:null),"default-width":e(p)>=1366?"w-fit":"w-full",class:"w-full",title:"Filtre par statut",elements:[{name:"Filtre par statut",value:"all"},{name:"En attente",value:e(m).Pending},{name:"En cours ",value:e(m).Processing},{name:"Effectué",value:e(m).Success},{name:"Echoué ",value:e(m).Failed},{name:"Remboursé ",value:e(m).Refunded}]},null,8,["modelValue","default-width","elements"]),o(g,{modelValue:e(d),"onUpdate:modelValue":a[4]||(a[4]=n=>w(d)?d.value=n:null),"default-width":e(p)>=1366?"w-fit":"w-full",class:"w-full",title:"Lignes par page",elements:[{name:"Lignes par page",value:"10"},{name:"20",value:"20"},{name:"50",value:"50"},{name:"100",value:"100"}]},null,8,["modelValue","default-width"]),o(g,{modelValue:e(V),"onUpdate:modelValue":a[5]||(a[5]=n=>w(V)?V.value=n:null),"default-width":e(p)>=1366?"w-fit":"w-full",title:"Filtre par operateur",elements:[{name:"Filtre par operateur",value:"all"},{name:"Orange",value:e(y).Orange},{name:"MTN",value:e(y).Mtn},{name:"Moov",value:e(y).Moov},{name:"Wave",value:e(y).Wave}]},null,8,["modelValue","default-width","elements"])]),i("section",we,[o(G,{"is-loading":e(E)&&e(l).q!==void 0,modelValue:e(l).q,"onUpdate:modelValue":a[6]||(a[6]=n=>e(l).q=n)},null,8,["is-loading","modelValue"])])]),i("section",ye,[i("div",xe,[i("div",null,[o(W,{onClick:a[7]||(a[7]=n=>t.$router.push({name:e(ae).TRANSACTIONS.name})),class:"px-10",type:"default"},{default:C(()=>[a[9]||(a[9]=i("span",null,"Voir Tout",-1)),o(e(oe))]),_:1,__:[9]})])]),o(z,{"dynamic-width-columns":!1,"page-size":e(d)?parseInt(e(d)):10,ref:"my-table","default-page":e(l).page,total:((T=e(S))==null?void 0:T.total)??0,columns:e(K),data:((P=e(S))==null?void 0:P.items)??[],onGoToPage:U,onPrevPage:I,onNextPage:R},null,8,["page-size","default-page","total","columns","data"])])])}}});export{He as default};
