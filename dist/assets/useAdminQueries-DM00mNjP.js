import{u as a}from"./useQuery-Di2ibVa4.js";import{u as c}from"./useMutation-CqjTsKS8.js";import{H as r}from"./Http-BUEd-bjA.js";import{$ as m,r as d,a1 as y,c as s,w as f,J as p}from"./index-DkfXgpcC.js";import{u as l}from"./axios-CQ5ThyI4.js";async function h({payload:t}){return await r.get("/admins",t)}async function g({id:t}){return await r.get(`/admin/${t}`)}async function A({id:t,data:n}){return await r.put(`/admin/${t}`,n)}const i={admin:({id:t,country:n})=>["admin",t,n],adminPagination:t=>["admin",t],adminFilters:t=>["admin",t.page,t.searchText,t.country]};async function F(t){try{let n={...t};const e=await h({payload:t});return e==null?void 0:e.data}catch(n){throw Error(n.response.data.message)}}async function w({id:t,data:n}){try{const e=await A({data:n,id:t});return e==null?void 0:e.data}catch(e){throw Error(e.response.data.message)}}const q=m("country",()=>{const t=d("FR");return{country:t,setCountry:e=>{t.value=e}}}),{country:o}=p(q());function K(){const{stopLoadingSkeleton:t}=l(),e=y({...{searchText:"",page:1}}),u=a({queryKey:s(()=>i.adminFilters({...e,country:o.value})),queryFn:({signal:x})=>F(e)});return f(()=>({searchText:e.searchText}),()=>{e.page=1},{deep:!0}),{...u,filters:e}}function $(t){return a({queryKey:s(()=>i.admin({id:t,country:o.value})),queryFn:({signal:n})=>g({id:t}),enabled:!1})}function b(t){return c({mutationFn:n=>w({id:t,data:n})})}export{b as a,$ as b,K as u};
