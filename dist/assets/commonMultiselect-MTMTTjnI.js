import{d as I,r as w,c,l as a,m as l,q as r,N as i,B as p,F as j,E as O,X as K,K as x,y as S,f as m,a7 as B,G as h,p as u,n as C,t as P,a8 as Q,_ as U}from"./index-DkfXgpcC.js";import{C as D,S as H}from"./search-rrj2n-jv.js";import{X as J}from"./x-CwcFVxe-.js";import{C as M,a as N}from"./chevron-down-Ctm0sjbZ.js";const R={class:"relative"},W={key:0,class:"flex justify-between items-center w-full"},Y={class:"flex flex-wrap items-center"},Z={class:"flex items-center justify-between"},ee={key:1,class:"flex items-center justify-between w-full mx-auto"},te={class:"text-sm text-muted-foreground mx-3"},se={key:0,class:"absolute z-50 w-full mt-1 bg-white rounded-md shadow-lg"},re={class:"p-2"},oe={class:"flex items-center px-3 py-2 border rounded-md"},le={class:"mt-2 max-h-[200px] overflow-y-scroll"},ne=["onClick"],ae={class:"flex items-center justify-between mt-2 pt-2 border-t"},ie={key:1,class:"w-px h-6 bg-gray-200"},ue=I({__name:"commonMultiselect",props:{options:{},modelValue:{},placeholder:{default:"Select options"},animation:{default:0},maxCount:{default:3},variant:{default:"default"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(z,{emit:A}){const s=z,f=A,v=w(!1),E=w(!1),y=w(""),o=c(()=>s.modelValue),L=c(()=>s.options.filter(t=>t.label.toLowerCase().includes(y.value.toLowerCase()))),X=c(()=>o.value.slice(0,s.maxCount)),F=c(()=>o.value.length>s.maxCount),T=c(()=>o.value.length-s.maxCount),k=c(()=>{const t="m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300";switch(s.variant){case"secondary":return`${t} border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80`;case"destructive":return`${t} border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80`;case"inverted":return`${t} inverted`;default:return`${t} border-foreground/10 text-foreground bg-card hover:bg-card/80`}}),_=t=>{if(s.disabled)return;const n=o.value.includes(t)?o.value.filter(e=>e!==t):[...o.value,t];f("update:modelValue",n)},g=()=>{s.disabled||f("update:modelValue",[])},q=()=>{s.disabled||(o.value.length===s.options.length?g():f("update:modelValue",s.options.map(t=>t.value)))},G=()=>{s.disabled||f("update:modelValue",o.value.slice(0,s.maxCount))};return(t,n)=>(l(),a("div",R,[r("button",{onClick:n[0]||(n[0]=e=>!t.disabled&&(v.value=!v.value)),class:p(["flex w-full p-1 border-neutral-60 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit",t.disabled?"opacity-50 cursor-not-allowed":""])},[o.value.length>0?(l(),a("div",W,[r("div",Y,[(l(!0),a(j,null,O(X.value,e=>{var b,V,$;return l(),a("div",{key:e,class:p([k.value,"inline-flex items-center px-2.5 py-0.5 rounded-full border-2 border-primary text-sm font-medium"]),style:K(E.value?{animationDuration:`${s.animation}s`}:{})},[(b=s.options.find(d=>d.value===e))!=null&&b.icon?(l(),x(B((V=s.options.find(d=>d.value===e))==null?void 0:V.icon),{key:0,class:"h-4 w-4 mr-2"})):i("",!0),S(" "+h(($=s.options.find(d=>d.value===e))==null?void 0:$.label)+" ",1),m(u(D),{class:"ml-2 h-4 w-4 cursor-pointer",onClick:C(d=>_(e),["stop"])},null,8,["onClick"])],6)}),128)),F.value?(l(),a("div",{key:0,class:p([k.value,"bg-transparent text-foreground border-foreground/1 hover:bg-transparent inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium"])},[S(" + "+h(T.value)+" more ",1),m(u(D),{class:"ml-2 h-4 w-4 cursor-pointer",onClick:C(G,["stop"])})],2)):i("",!0)]),r("div",Z,[m(u(J),{class:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:C(g,["stop"])}),n[3]||(n[3]=r("div",{class:"w-px h-6 bg-gray-200 mx-2"},null,-1)),m(u(M),{class:"h-4 mx-2 cursor-pointer text-muted-foreground"})])])):(l(),a("div",ee,[r("span",te,h(t.placeholder),1),m(u(M),{class:"h-4 cursor-pointer text-muted-foreground mx-2"})]))],2),v.value?(l(),a("div",se,[r("div",re,[r("div",oe,[m(u(H),{class:"w-4 h-4 text-gray-400"}),P(r("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>y.value=e),type:"text",placeholder:"Search...",class:"w-full px-2 py-1 text-sm border-none focus:outline-none"},null,512),[[Q,y.value]])]),r("div",le,[r("button",{onClick:q,class:"flex items-center w-full px-3 py-2 text-sm hover:bg-gray-100 rounded-md"},[r("div",{class:p(["mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",o.value.length===t.options.length?"bg-primary text-primary-foreground":"opacity-50"])},[o.value.length===t.options.length?(l(),x(u(N),{key:0,class:"h-4 w-4"})):i("",!0)],2),n[4]||(n[4]=r("span",null,"(Select All)",-1))]),(l(!0),a(j,null,O(L.value,e=>(l(),a("button",{key:e.value,onClick:b=>_(e.value),class:"flex items-center w-full px-3 py-2 text-sm hover:bg-gray-100 rounded-md"},[r("div",{class:p(["mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",o.value.includes(e.value)?"bg-primary text-primary-foreground":"opacity-50"])},[o.value.includes(e.value)?(l(),x(u(N),{key:0,class:"h-4 w-4"})):i("",!0)],2),e.icon?(l(),x(B(e.icon),{key:0,class:"mr-2 h-4 w-4 text-muted-foreground"})):i("",!0),r("span",null,h(e.label),1)],8,ne))),128))]),r("div",ae,[o.value.length>0?(l(),a("button",{key:0,onClick:g,class:"flex-1 px-3 py-2 text-sm text-center hover:bg-gray-100 rounded-md"}," Clear ")):i("",!0),o.value.length>0?(l(),a("div",ie)):i("",!0),r("button",{onClick:n[2]||(n[2]=e=>v.value=!1),class:"flex-1 px-3 py-2 text-sm text-center hover:bg-gray-100 rounded-md"}," Close ")])])])):i("",!0)]))}}),fe=U(ue,[["__scopeId","data-v-458fb66e"]]);export{fe as C};
